<?xml version="1.0" encoding="UTF-8" ?>

<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping">
    <mapped-superclass name="Tickit\Bundle\ProjectBundle\Entity\AbstractAttribute" table="project_attributes" repository-class="%tickit_project.attribute_repository.class%">

        <discriminator-column name="type" type="string" length="7" />
        <discriminator-map>
            <discriminator-mapping value="literal" class="Tickit\Bundle\ProjectBundle\Entity\LiteralAttribute"/>
            <discriminator-mapping value="entity" class="Tickit\Bundle\ProjectBundle\Entity\EntityAttribute"/>
            <discriminator-mapping value="choice" class="Tickit\Bundle\ProjectBundle\Entity\ChoiceAttribute"/>
        </discriminator-map>

        <id name="id" type="integer" column="id">
            <generator strategy="AUTO" />
        </id>

        <field name="name" type="string" length="120" />
        <field name="defaultValue" column="default_value" type="string" length="500" />
        <field name="allowBlank" column="allow_blank" type="boolean" />
    </mapped-superclass>
</doctrine-mapping>
